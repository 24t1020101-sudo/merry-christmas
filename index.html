<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merry Christmas üéÑ</title>

<style>
body {
    margin: 0;
    background-color: #020202;
    color: white;
    font-family: 'Segoe UI', Arial, sans-serif;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

#container {
    position: relative;
    width: 1200px;
    height: 800px;
}

.message-container {
    position: absolute;
    left: 50px;
    top: 200px;
    z-index: 10;
    border-left: 5px solid #ff3333;
    padding-left: 25px;
}

.message-container h1 {
    font-size: 5rem;
    margin: 0;
    color: #ff3333;
    line-height: 0.9;
    text-shadow: 0 0 15px rgba(255, 51, 51, 0.5);
}

.message-container span {
    font-size: 2.5rem;
    color: #ffffff;
}

.message-container p {
    font-size: 1rem;
    font-style: italic;
    opacity: 0.7;
    max-width: 360px;
}

canvas {
    position: absolute;
    right: 0;
}

/* G·ª£i √Ω b·∫≠t nh·∫°c */
#musicHint {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.9rem;
    opacity: 0.7;
    animation: blink 1.5s infinite;
}

@keyframes blink {
    0%,100% {opacity:0.3;}
    50% {opacity:0.9;}
}
</style>
</head>

<body>

<div id="container">
    <div class="message-container">
        <h1>
            Merry<br>Christmas<br>
            <span id="name"></span>
        </h1>
        <p>
            Gi√°ng Sinh an l√†nh nh√©! Ch√∫c b·∫°n lu√¥n ng·∫≠p tr√†n y√™u th∆∞∆°ng, b√¨nh an trong t√¢m h·ªìn v√† h·∫°nh ph√∫c b√™n nh·ªØng ng∆∞·ªùi th√¢n y√™u. 
            Mong r·∫±ng m√πa Noel n√†y s·∫Ω mang ƒë·∫øn cho b·∫°n nhi·ªÅu hy v·ªçng m·ªõi v√† nh·ªØng ƒëi·ªÅu t·ªët ƒë·∫πp trong nƒÉm s·∫Øp t·ªõi üéÑ‚ú®‚ù§Ô∏è
        </p>
        <p><b>NgTr D≈©ng</b></p>
    </div>

    <canvas id="treeCanvas"></canvas>
</div>

<div id="musicHint">üé∂ Ch·∫°m m√†n h√¨nh ƒë·ªÉ b·∫≠t nh·∫°c</div>

<!-- üé§ LAST CHRISTMAS ‚Äì FEMALE VOCAL COVER -->
<audio id="bgMusic" loop>
    <source src="https://cdn.pixabay.com/download/audio/2023/11/30/audio_3f8b4bcb36.mp3?filename=last-christmas-cover-female-vocal-187684.mp3" type="audio/mpeg">
</audio>

<script>


/* ========= NH·∫†C ========= */
const music = document.getElementById("bgMusic");
document.addEventListener("click", () => {
    if (music.paused) {
        music.play();
        document.getElementById("musicHint").style.display = "none";
    }
});

/* ========= C√ÇY TH√îNG 3D ========= */
const canvas = document.getElementById('treeCanvas');
const ctx = canvas.getContext('2d');
canvas.width = 900;
canvas.height = 800;

const particles = [];
const particleCount = 4500;
let rotation = 0;

class Particle {
    constructor() { this.init(); }
    init() {
        this.y = Math.random() * 550;
        const maxRadius = (this.y / 550) * 220;
        this.radius = Math.random() * maxRadius;
        this.angle = Math.random() * Math.PI * 2;
        this.speed = 0.005 + Math.random() * 0.015;
        this.size = Math.random() * 1.2 + 0.3;
        const colors = ['#fff', '#fffbe6', '#fffae0'];
        this.color = colors[Math.floor(Math.random() * colors.length)];
        this.opacity = Math.random() * 0.6 + 0.4;
    }
    update() { this.angle += this.speed; }
    draw() {
        const x3d = Math.cos(this.angle + rotation) * this.radius;
        const z3d = Math.sin(this.angle + rotation) * this.radius;
        const fov = 800;
        const scale = fov / (fov + z3d);
        const x2d = x3d * scale + canvas.width / 2 + 150;
        const y2d = this.y * scale + 150;
        ctx.beginPath();
        ctx.arc(x2d, y2d, this.size * scale, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.globalAlpha = this.opacity * ((z3d + 220) / 440);
        ctx.fill();
    }
}

for (let i = 0; i < particleCount; i++) {
    particles.push(new Particle());
}

function drawStar(x, y) {
    const points = 5;
    const outer = 30 + Math.sin(Date.now() * 0.005) * 5;
    const inner = 12;
    ctx.save();
    ctx.translate(x, y);
    ctx.shadowBlur = 30;
    ctx.shadowColor = "#fff7af";
    ctx.beginPath();
    for (let i = 0; i < points * 2; i++) {
        const r = i % 2 === 0 ? outer : inner;
        const a = (i * Math.PI) / points;
        ctx.lineTo(r * Math.sin(a), -r * Math.cos(a));
    }
    ctx.closePath();
    ctx.fillStyle = "#fff7af";
    ctx.fill();
    ctx.restore();
}

/* ========= TUY·∫æT R∆†I ========= */
const snowflakes = Array.from({length: 200}, () => ({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    r: Math.random() * 2 + 1,
    d: Math.random() + 1
}));

function drawSnow() {
    ctx.fillStyle = "rgba(255,255,255,0.8)";
    snowflakes.forEach(s => {
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
        ctx.fill();
        s.y += s.d;
        if (s.y > canvas.height) {
            s.y = -5;
            s.x = Math.random() * canvas.width;
        }
    });
}

function animate() {
    ctx.fillStyle = 'rgba(2,2,2,0.8)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    particles.forEach(p => { p.update(); p.draw(); });
    drawStar(canvas.width / 2 + 150, 135);
    drawSnow();

    rotation += 0.01;
    requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
